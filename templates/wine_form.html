<!DOCTYPE html>
<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>{{if .ID}}Edit Wine{{else}}Add a New Wine{{end}}</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&amp;family=Playfair+Display:ital,wght@0,400..900;1,400..900&amp;family=Great+Vibes&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#bfa884",
              "background-light": "#fdfcf7",
              "background-dark": "#2a2621",
              "champagne-light": "#f5eadd",
              "champagne-dark": "#3c352a",
              "prose-light": "#4a4137",
              "prose-dark": "#d1c7b8",
            },
            fontFamily: {
              "display": ["Playfair Display", "serif"],
              "body": ["Manrope", "sans-serif"],
              "script": ["Great Vibes", "cursive"]
            },
            borderRadius: {"DEFAULT": "0.5rem", "lg": "0.75rem", "xl": "1rem", "full": "9999px"},
          },
        },
      }
    </script>
<style>
      body {
        font-family: 'Manrope', sans-serif;
      }
      .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 300,
        'GRAD' 0,
        'opsz' 24
      }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-body text-prose-light dark:text-prose-dark">
<div class="relative flex h-auto min-h-screen w-full flex-col">
{{template "header" .}}
<div class="layout-container flex h-full grow flex-col">
<main class="flex-1">
<div class="px-4 sm:px-6 lg:px-10 flex flex-1 justify-center py-8">
<div class="layout-content-container flex flex-col w-full max-w-7xl">
<form action="{{if .ID}}/edit/{{.ID}}{{else}}/add{{end}}" method="POST" enctype="multipart/form-data">
{{if .ID}}<input type="hidden" name="id" value="{{.ID}}">{{end}}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12">
<div class="lg:col-span-1">
<h3 class="font-display text-xl font-bold leading-tight tracking-tight pb-4">Bottle Image</h3>
<div class="flex flex-col items-center gap-6 rounded-lg border-2 border-dashed border-black/5 dark:border-white/5 p-6 text-center">
    <!-- Preview Area -->
    <div id="image-preview-container" class="{{if .ImageURL}}block{{else}}hidden{{end}}">
        <img id="image-preview" src="{{if .ImageURL}}{{.ImageURL}}{{end}}" class="max-h-64 object-contain rounded-lg shadow-sm mx-auto">
    </div>

    <div class="flex max-w-[480px] flex-col items-center gap-2">
        <p class="text-base font-semibold">Upload Bottle Image</p>
        <p class="text-prose-light/70 dark:text-prose-dark/70 text-sm font-normal leading-normal">Click to browse</p>
    </div>
    
    <label class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-black/5 dark:bg-white/5 text-prose-light dark:text-prose-dark text-sm font-semibold leading-normal tracking-wide hover:bg-black/10 dark:hover:bg-white/10 transition-colors">
        <span class="truncate">Browse Files</span>
        <input type="file" name="image" accept="image/*" class="hidden" onchange="previewImage(event)">
    </label>
</div>

<script>
function previewImage(event) {
    const input = event.target;
    if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
            const preview = document.getElementById('image-preview');
            const container = document.getElementById('image-preview-container');
            preview.src = e.target.result;
            container.classList.remove('hidden');
            container.classList.add('block');
        }
        reader.readAsDataURL(input.files[0]);
    }
}
</script>
</div>
<div class="lg:col-span-2">
<div class="flex flex-col gap-8">
<div>
<h3 class="font-display text-xl font-bold leading-tight tracking-tight pb-4 border-b border-black/5 dark:border-white/5 mb-4">Core Identity</h3>
<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5">
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Wine Name</p>
<input name="name" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., Quintessa" value="{{.Name}}"/>
</label>
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Winery</p>
<input name="producer" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., Quintessa" value="{{.Producer}}"/>
</label>
</div>
</div>
<div>
<h3 class="font-display text-xl font-bold leading-tight tracking-tight pb-4 border-b border-black/5 dark:border-white/5 mb-4">Origin &amp; Type</h3>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-5">
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Vintage</p>
<input name="vintage" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., 2018" type="number" value="{{if .Vintage}}{{.Vintage}}{{end}}"/>
</label>
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Grape</p>
<input name="grape" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., Cabernet Sauvignon" value="{{.Grape}}"/>
</label>
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Country</p>
<input name="country" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., USA" value="{{.Country}}"/>
</label>
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Region</p>
<input name="region" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., Napa Valley" value="{{.Region}}"/>
</label>
</div>
</div>
<div>
<h3 class="font-display text-xl font-bold leading-tight tracking-tight pb-4 border-b border-black/5 dark:border-white/5 mb-4">Inventory &amp; Purchase</h3>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-5">
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Quantity</p>
<input name="quantity" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" type="number" value="{{if .Quantity}}{{.Quantity}}{{else}}1{{end}}"/>
</label>
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Price</p>
<input name="price" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., 200.00" step="0.01" type="number" value="{{if .Price}}{{.Price}}{{end}}"/>
</label>
</div>
</div>
<div>
<h3 class="font-display text-xl font-bold leading-tight tracking-tight pb-4 border-b border-black/5 dark:border-white/5 mb-4">Personal Rating &amp; Notes</h3>
<div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5">
<label class="flex flex-col w-full">
<p class="text-base font-semibold leading-normal pb-2">Drinking Window</p>
<input name="drinking_window" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-prose-light dark:text-prose-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-black/5 dark:border-white/5 bg-transparent dark:bg-white/5 focus:border-primary dark:focus:border-primary h-12 placeholder:text-prose-light/50 dark:placeholder:text-prose-dark/50 p-3 text-base font-normal leading-normal" placeholder="e.g., 2025-2035" value="{{.DrinkingWindow}}"/>
</label>
</div>
</div>
</div>
<div class="flex items-center gap-2 mt-8 lg:col-span-3 justify-end">
<a href="{{if .ID}}/details/{{.ID}}{{else}}/{{end}}" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-transparent text-prose-light dark:text-prose-dark text-sm font-semibold leading-normal tracking-wide hover:bg-black/5 dark:hover:bg-white/5 transition-colors">
<span class="truncate">Cancel</span>
</a>
<button type="submit" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-semibold leading-normal tracking-wide shadow-sm hover:bg-primary/90 transition-colors">
<span class="truncate">{{if .ID}}Update Wine{{else}}Save Wine{{end}}</span>
</button>
</div>
</div>
</div>
</form>
</div>
</div></main>
</div>
</div>
</body></html>